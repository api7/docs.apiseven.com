---
title: 新增自定义插件
slug: /best-practices/custom-plugin
---

API7 企业版的一个关键特性是通过插件实现的可扩展性。除了提供广泛的现有外，API7 企业版还允许你构建自定义插件，以添加额外功能并使用自定义流程管理 API 流量。通常，你可以使用 Lua 编程语言来实现新的插件。API7 企业版分阶段处理请求，并在请求路由的每个阶段执行相关的插件逻辑。

这种插件架构为 API7 企业版提供了极大的灵活性和可扩展性。企业可以根据自身的业务需求和技术要求，定制和开发适合的插件，以满足特定的 API 管理需求。无论是身份验证、授权、限流、日志记录还是其他个性化的 API 管理功能，都可以通过自定义插件来实现。

此外，由于 API7 企业版使用 Lua 作为插件开发语言，这也为开发者提供了便利。Lua 是一种轻量级、易于学习和使用的脚本语言，具有高效的性能和灵活的特性。这使得开发者可以快速地编写和部署自定义插件，从而加速API管理功能的开发和部署过程。

## 前提条件

1. 获取一个具有**超级管理员**角色的用户账户。
2. [用 Lua 编写自定义插件](https://docs.api7.ai/apisix/how-to-guide/custom-plugins/create-plugin-in-lua).

## 操作步骤

1. 在左侧导航栏中，选择**网关设置**，然后选择**自定义插件**。
2. 单击**新增自定义插件**。
3. 填写**新增自定义插件**表单：
    - **插件源码文件**：上传用 Lua 编写的插件源码文件。
    - **插件分类**：分类会用于筛选和搜索插件。例如选择`流量`。
    - **插件描述**：例如`按规则分流 API`。
    - **插件文档链接**：例如`https://docs.api7.ai/hub/traffic-split`。
    - **插件作者**：例如`Tom`。
4. 单击**新增**。
5. 现在你的自定义插件会加入插件的选择列表。所有服务/路由/消费者/插件全局规则，可以在**启用插件**对话框中选到这个自定义插件。
