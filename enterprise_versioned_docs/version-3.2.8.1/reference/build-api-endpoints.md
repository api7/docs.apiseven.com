---
title: 构建 API 端点
slug: "/reference/build-api-endpoints"
---

API 端点为 API 提供实际的业务逻辑和数据。在与 API7 企业版集成之前，需要对其进行开发和部署。

## 开发 API 端点

1. **日程安排**：日程安排是 API 开发过程的关键环节。团队中的人员需要根据预定的时间表完成并报告他们的工作，以确保项目的及时交付。
2. **开发和自测**：开发阶段通常涉及编码和调试，而自测阶段涉及开发人员测试和验证自己开发的 API，以确保其功能符合预期。
3. **集成测试**：集成测试是对不同模块之间的 API 进行调试和测试的阶段，以确保它们之间的交互和通信正确、稳定。
4. **质量保证测试**：质量保证测试的目的是在向最终用户发布 API 之前，找出并消除其中的缺陷或漏洞。这一阶段对于确保 API的可靠性和安全性至关重要。
5. **产品验收**：产品验收包括全面测试、评估和确认，以确定 API 是否符合预期目标和标准。这一阶段对于确保 API 可投入生产并满足用户需求至关重要。
6. **部署**：API 通过所有必要的测试和评估后，即可部署到生产环境中。这样，用户就可以访问和使用 API。

## 部署 API 后端

可以通过不同方式部署 API 后端：

- **虚拟机**：直接在虚拟机上部署服务二进制文件/软件包。
- **容器**：将服务打包为 Docker 容器并部署在 Kubernetes Controller 上。
- **无服务器**：在 AWS Lambda 等平台上开发和部署相关功能。
- **内部部署**：在现有的内部部署基础设施上托管服务。

在选择部署选项时要考虑可扩展性、可用性和可移植性等因素。

## 定义端点

部署完成后，后端必须配置 API7 企业版可以路由请求的网络端点。

- **虚拟机**：在虚拟机防火墙上为服务端点分配公共 IP 地址并开放端口。
- **容器**：使用 Kubernetes Ingress 或 LoadBalancer 服务公开端点。
- **无服务器**：大多数无服务器平台会自动为函数分配调用 URL。
- **内部部署**：为内部部署服务定义带端口的 URL 或 IP 地址，并允许列出 API7 企业版的 IP 地址。

## 使用服务发现（可选）

服务发现机制（如 Consul、Eureka、Nacos 或 Kubernetes 服务发现）可用于动态检测后端节点。

## 实施健康检查（强烈推荐）

为后端服务配置健康检查端点，以便 API7 企业版检测可用性并相应地路由流量。