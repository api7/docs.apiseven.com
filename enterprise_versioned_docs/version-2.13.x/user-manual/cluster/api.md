---
title: API 管理
slug: /user-manual/cluster/api
tags:
  - API7 Enterprise
---

## 新建 API

创建一条路由并作为对外的一个 API。

- 每个路由/API 必须选择一个上游，不允许为空。
- 一个上游可以被搭配多个路由/ API。
- API 不发布上线，则无法调用。
- 如果消费者和路由/ API 中都配置了同一个插件，则消费者中的插件配置更优先。

1. 登录 API7 Enterprise 控制台。
2. 如果还未准备好上游，请先参考对应文档[新建上游](https://docs.apiseven.com/enterprise/user-manual/cluster/upstream#新建上游)。
3. 在顶部导航菜单，点击 **集群管理** 。
4. 在左侧菜单，点击 **集群列表** 。
5. 点击对应集群的 **访问** 按钮。
6. 在左侧菜单，点击 **工作分区** 。
7. 点击对应工作分区的 **访问** 按钮。
8. 在左侧菜单，点击 **API 管理-API 列表**。
9. 点击 **新建** 按钮。
10. 填写表单。
11. 点击 **提交** 按钮。

## 配置 API

编辑 API 的属性。

- API 上线属性不支持编辑。
- 不建议直接修改状态为”已发布“的 API。

1. 登录 API7 Enterprise 控制台。
2. 在顶部导航菜单，点击 **集群管理** 。
3. 在左侧菜单，点击 **集群列表** 。
4. 点击对应集群的 **访问** 按钮。
5. 在左侧菜单，点击 **工作分区** 。
6. 点击对应工作分区的 **访问** 按钮。
7. 在左侧菜单，点击 **API 管理-API列表**。
8. 点击对应 API 的 **配置** 按钮，或者点击对应 API 的 **更多** 下拉菜单，然后点击`配置 Raw data`。
9. 编辑 API 的属性。
10. 点击 **提交** 按钮。

## 删除 API

API 永久下线，不再使用。

- 删除后不可恢复，请谨慎操作。
- 建议先下线 API，确认对业务无损后，再删除。

1. 登录 API7 Enterprise 控制台。
2. 在顶部导航菜单，点击 **集群管理** 。
3. 在左侧菜单，点击 **集群列表** 。
4. 点击对应集群的 **访问** 按钮。
5. 在左侧菜单，点击 **工作分区** 。
6. 点击对应工作分区的 **访问** 按钮。
7. 在左侧菜单，点击 **API 管理-API 列表**。
8. 点击对应 API 的 **更多** 下拉菜单，然后点击 **删除** 。

## 复制 API

快速创建一个与已有 API 相似的新 API，减少重复配置工作量。

:::caution

复制 API 并不会立刻生成一个已发布的 API，只是会使用已有 API 的配置作为预输入。

:::

1. 登录 API7 Enterprise 控制台。
2. 在顶部导航菜单，点击 **集群管理** 。
3. 在左侧菜单，点击 **集群列表** 。
4. 点击对应集群的 **访问** 按钮。
5. 在左侧菜单，点击 **工作分区** 。
6. 点击对应工作分区的 **访问** 按钮。
7. 在左侧菜单，点击 **API 管理-API 列表**。
8. 点击对应 API 的 **更多** 下拉菜单，然后点击 **复制**。
9. 编辑 API 的属性。
10. 点击 **提交** 按钮。

## API 下线

API 临时下线，保留配置数据但不可被调用。仅状态为”已发布“的 API 可以执行此操作。

1. 登录 API7 Enterprise 控制台。
2. 在顶部导航菜单，点击 **集群管理** 。
3. 在左侧菜单，点击 **集群列表** 。
4. 点击对应集群的 **访问** 按钮。
5. 在左侧菜单，点击 **工作分区** 。
6. 点击对应工作分区的 **访问** 按钮。
7. 在左侧菜单，点击 **API 管理-API 列表**。
8. 点击对应 API 的 **更多** 下拉菜单，然后点击 **下线**。

## API 上线

将临时下线或从未发布的 API 重新发布上线。仅状态为”未发布“的 API 可以执行此操作。

1. 登录 API7 Enterprise 控制台。
2. 在顶部导航菜单，点击 **集群管理** 。
3. 在左侧菜单，点击 **集群列表** 。
4. 点击对应集群的 **访问** 按钮。
5. 在左侧菜单，点击 **工作分区** 。
6. 点击对应工作分区的 **访问** 按钮。
7. 在左侧菜单，点击 **API 管理-API 列表**。
8. 点击对应 API 的 **更多** 下拉菜单，然后点击 **API 上线**。

## 导入 OpenAPI

通过导入 OpenAPI 文件的方式快速创建多个路由/ API。

- 导入时将自动创建一个上游，使用「导入任务名称」作为上游的名称，目标节点为 `0.0.0.0`，端口为`80`，权重为`1`，导入后[配置上游](https://docs.apiseven.com/enterprise/user-manual/cluster/upstream#%E9%85%8D%E7%BD%AE%E4%B8%8A%E6%B8%B8) 修改为正确的目标节点。
- 同一次导入的多个路由/API 都将使用本次默认创建的这同一个上游。
- 自动使用「导入任务名称+路径」作为路由/ API 的名称，后续可通过配置 API 修改。
- 自动使用工作分区的主机名作为导入的路由/ API 的主机名，后续可通过配置 API 修改。

1. 登录 API7 Enterprise 控制台。
2. 在顶部导航菜单，点击 **集群管理** 。
3. 在左侧菜单，点击 **集群列表** 。
4. 点击对应集群的 **访问** 按钮。
5. 在左侧菜单，点击 **工作分区** 。
6. 点击对应工作分区的 **访问** 按钮。
7. 在左侧菜单，点击 **API 管理-API 列表**。
8. 点击 **高级特性** 按钮，在下拉菜单中点击 **导入 OpenAPI**。
9. 填写表单。
10. 点击 **提交** 按钮。
