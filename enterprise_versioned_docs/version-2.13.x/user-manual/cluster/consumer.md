---
title: 消费者管理
slug: /user-manual/cluster/consumer
tags:
  - API7 Enterprise
---

## 新建消费者


API 需要搭配身份认证才可使用时，需要为调用方创建消费者角色并分配对应的访问凭证。消费者可以对应一个用户，一个应用，或者一个主机等。



1. 消费者需要启用至少一个认证类插件。
2. 同一个消费者对象可以访问多个 API。
3. 如果消费者和路由/ API 中都配置了同一个插件（非认证类插件），则消费者中的插件配置更优先。



**步骤1：**  登录 API7 Enterprise 控制台。

**步骤2：**  在顶部导航菜单，点击`集群管理`。

**步骤3：**  在左侧菜单，点击`集群列表`。

**步骤4：**  点击对应集群的`访问`按钮。

**步骤5：**  在左侧菜单，点击`工作分区`。

**步骤6：**  点击对应工作分区的`访问`按钮。

**步骤7：**  在左侧菜单，点击`消费者管理`。

**步骤8：**  点击`新建`按钮。

**步骤9：**  填写表单并选择至少一个认证类插件（basic-auth/hmac-auth/jwt-auth/key-auth/wolf-rbac）,点击对应插件的`启用`按钮。

**步骤10：**  在`插件配置`表单中，打开`启用`开关。

**步骤11：**  在`配置Raw Data`中，编辑插件的参数。（可选，部分插件无需配置任何参数即可使用）。

**步骤12：**  点击`提交`按钮。

**步骤13：**  可按需要启用多个插件。

**步骤14：**  全部插件启用完毕后，点击`提交`按钮。

**验证方式：** 在消费者列表中可以看到新的消费者记录。

## 配置消费者


编辑消费者的属性及启用的插件。



无。



**步骤1：**  登录 API7 Enterprise 控制台。

**步骤2：**  在顶部导航菜单，点击`集群管理`。

**步骤3：**  在左侧菜单，点击`集群列表`。

**步骤4：**  点击对应集群的`访问`按钮。

**步骤5：**  在左侧菜单，点击`工作分区`。

**步骤6：**  点击对应工作分区的`访问`按钮。

**步骤7：**  在左侧菜单，点击`消费者管理`。

**步骤8：**  点击对应消费者的`配置`按钮。

**步骤9：**  选择需要启用的插件，点击对应的`启用`按钮。

**步骤10：**  在`插件配置`表单中，打开`启用`开关。

**步骤11：**  在`配置Raw Data`中，编辑插件的参数。（可选，部分插件无需配置任何参数即可使用）。

**步骤12：**  点击`提交`按钮。

**步骤13：**  可按需要启用多个插件，重复步骤9~步骤12.

**步骤14：**  如需关闭已经启用的插件，点击对应插件的`更新`按钮，然后在`插件配置`表单中，点击`删除`按钮。或者直接点击对应插件的`禁用`按钮。

**步骤15：**  全部插件配置完毕后，点击`提交`按钮。

**验证方式：** 消费者调用逻辑已发生变化。

## 删除消费者


禁止某个消费者调用任意 API，并不再保留记录。



1. 删除后不可恢复，请谨慎操作。



**步骤1：**  登录 API7 Enterprise 控制台。

**步骤2：**  在顶部导航菜单，点击`集群管理`。

**步骤3：**  在左侧菜单，点击`集群列表`。

**步骤4：**  点击对应集群的`访问`按钮。

**步骤5：**  在左侧菜单，点击`工作分区`。

**步骤6：**  点击对应工作分区的`访问`按钮。

**步骤7：**  在左侧菜单，点击`消费者管理`。

**步骤8：**  点击对应插件模板的`删除`按钮。

**步骤9：**  确认后点击`确认`按钮。

**验证方式：** 对应消费者无法再访问任何 API。
